include includes/header
.container(ng-controller='dashController')
	.row
		.col-xs-12
			.alert.alert-dismissible.fade.in(ng-class='alertStyle',role="alert")
				button.close(type="button",data-dismiss="alert",aria-label="Close")
					span(aria-hidden='true') &times;
				p {{alertMessage}}
	.row(ng-if='eventSources && eventSources.length && eventSources[0].events.length')
		.col-xs-12
			h1 To be completed events
			ul.list-group
				li.list-group-item(ng-repeat='e in eventSources[0].events')
					span.badge {{e.duration}}
					h4.list-group-item-heading(style='margin-top:5px')
						span.bordered(style='color:{{e.textColor}};background-color:{{e.color}}') {{e.title}}
	.row
		.col-sm-6
			.well
				h1
					i.fa.fa-check.fa-fw
					| Start event
				hr
				form
					.row
						.col-xs-12
							.form-group
								label.sr-only Event name
								input.form-control(type='text',placeholder='Event name',ng-model='eventName',ng-required,uib-typeahead='event.name for event in getEvents($viewValue)',typeahead-loading='loadingEvents',typeahead-no-results='noEvents',typeahead-on-select='onTypeAheadSelect($item, $model, $label)')
								p
									i.fa.fa-refresh(ng-show='loadingEvents')
									span(ng-show='noEvents')
										i.fa.fa-remove
										| No events found!
							.form-group
								label.sr-only Start time
								.input-group
									span.input-group-btn
										button.btn.btn-default
											i.fa.fa-clock-o.fa-fw
									input.form-control(type='text', placeholder='Event start time',ng-model='startDateFormat',disabled)
					.row
						.col-xs-6
							.form-group
								label.sr-only Text color
								input.form-control.minicolors#textcolor(type='hidden',ng-model='textcolor',data-control='saturation',placeholder='Font color',value='{{textcolor}}')
						.col-xs-6
							.form-group
								label.sr-only Background color
								input.form-control.minicolors#bgcolor(type='hidden',ng-model='bgcolor',data-control='saturation',placeholder='Background color',value='{{bgcolor}}')
					.row
						.col-xs-12
							.text-right
								button.btn.btn-default(type='button',ng-click='submitEventItem()',style='margin-right:5px') Change
								button.btn.btn-primary(type='button',ng-click='submitEventItem()') Start
			h1 Previous events
			ul.list-group
				li.list-group-item(ng-repeat='e in eventSources[1].events')
					span.badge {{e.duration}}
					h4.list-group-item-heading(style='margin-top:5px')
						span.bordered(style='color:{{e.textColor}};background-color:{{e.color}}') {{e.title}}
		.col-sm-6
			.calendar(ui-calendar='uiConfig.calendar',ng-model='eventSources')
include includes/js