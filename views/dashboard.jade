include includes/header
.container(ng-controller='dashController')
	.row
		.col-xs-12
			.alert.alert-dismissible.fade.in(ng-class='alertStyle',role="alert")
				button.close(type="button",data-dismiss="alert",aria-label="Close")
					span(aria-hidden='true') &times;
				p {{alertMessage}}
	.row(ng-if='eventSources && eventSources.length && eventSources[0].events.length')
		.col-xs-12
			h1 To be completed events
			ul.list-group
				li.list-group-item(ng-repeat='e in eventSources[0].events')
					.row
						.col-lg-10
							h4.list-group-item-heading(style='margin-top:5px')
								span.bordered(style='color:{{e.textColor}};background-color:{{e.color}};margin-right:10px') {{e.title}}
								small
									i.fa.fa-clock-o.fa-fw
									| &nbsp;{{e.duration}}
						.col-lg-2
							button.btn.btn-block(type='button',ng-click='stopEvent(e.id)') Stop
	.row
		.col-sm-6
			.well
				h1
					i.fa.fa-check.fa-fw
					| Start event
				hr
				form
					.row
						.col-xs-12
							.form-group
								label.sr-only Event name
								input.form-control(type='text',placeholder='Event name',ng-model='eventName',ng-required,uib-typeahead='event.name for event in getEvents($viewValue)',typeahead-loading='loadingEvents',typeahead-no-results='noEvents',typeahead-on-select='onTypeAheadSelect($item, $model, $label)')
								p
									i.fa.fa-refresh(ng-show='loadingEvents')
									span(ng-show='noEvents')
										i.fa.fa-remove
										| No events found!
							.form-group
								label.sr-only Start time
								.input-group
									span.input-group-btn
										button.btn.btn-default
											i.fa.fa-clock-o.fa-fw
									input.form-control(type='text', placeholder='Event start time',ng-model='startDateFormat',disabled)
					.row
						.col-xs-6
							.form-group
								label.sr-only Text color
								input.form-control.minicolors#textcolor(type='hidden',ng-model='textcolor',data-control='saturation',placeholder='Font color',value='{{textcolor}}')
						.col-xs-6
							.form-group
								label.sr-only Background color
								input.form-control.minicolors#bgcolor(type='hidden',ng-model='bgcolor',data-control='saturation',placeholder='Background color',value='{{bgcolor}}')
					.row
						.col-xs-12
							.text-right
								button.btn.btn-default(type='button',ng-click='changeEvent()',style='margin-right:5px') Change
								button.btn.btn-primary(type='button',ng-click='submitEventItem()') Start
			h1 Previous events
			ul.list-group
				li.list-group-item(ng-repeat='e in eventSources[1].events',style='background-color:{{e.color}};padding:0 15px')
					.row
						.col-lg-1
							button.close.pull-left(type='button',style='margin:25px 0')
								span &times;
						.col-lg-11(ng-click='setNewEvent(e)')
							span.badge.pull-right(style='margin:25px 0') {{e.duration}}
							h4(style='color:{{e.textColor}};margin:25px 0') {{e.title}}
		.col-sm-6
			.calendar(ui-calendar='uiConfig.calendar',ng-model='eventSources')
include includes/js